{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst input = document.querySelector('input');\nconst textarea = document.querySelector('textarea');\n\nconst LS_KEY = 'feedback-form-state';\nconst savedData = localStorage.getItem(LS_KEY);\n\nconst handlerInput = throttle(function (evt) {\n  const values = {\n    email: input.value,\n    message: textarea.value,\n  };\n\n  localStorage.setItem(LS_KEY, JSON.stringify(values));\n}, 5000);\n\ninput.addEventListener('input', handlerInput);\ntextarea.addEventListener('input', handlerInput);\n\nif (savedData) {\n  const data = JSON.parse(savedData);\n  input.value = data.email;\n  textarea.value = data.message;\n}\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  localStorage.removeItem(LS_KEY);\n  form.reset();\n});\n"],"names":["form","input","textarea","LS_KEY","savedData","handlerInput","throttle","evt","values","data"],"mappings":"mIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAW,SAAS,cAAc,UAAU,EAE5CC,EAAS,sBACTC,EAAY,aAAa,QAAQD,CAAM,EAEvCE,EAAeC,EAAS,SAAUC,EAAK,CAC3C,MAAMC,EAAS,CACb,MAAOP,EAAM,MACb,QAASC,EAAS,KACtB,EAEE,aAAa,QAAQC,EAAQ,KAAK,UAAUK,CAAM,CAAC,CACrD,EAAG,GAAI,EAEPP,EAAM,iBAAiB,QAASI,CAAY,EAC5CH,EAAS,iBAAiB,QAASG,CAAY,EAE/C,GAAID,EAAW,CACb,MAAMK,EAAO,KAAK,MAAML,CAAS,EACjCH,EAAM,MAAQQ,EAAK,MACnBP,EAAS,MAAQO,EAAK,OACxB,CAEAT,EAAK,iBAAiB,SAAUO,GAAO,CACrCA,EAAI,eAAc,EAClB,aAAa,WAAWJ,CAAM,EAC9BH,EAAK,MAAK,CACZ,CAAC"}